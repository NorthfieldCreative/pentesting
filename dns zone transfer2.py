
import dns.resolver
import dns.zone
import dns.query
domaintoquery="mailman.com"
response=dns.resolver.resolve(domaintoquery, "ns")
for servers in response:
    serverlist=dns.resolver.resolve(servers.target, 'A')
    for ips in serverlist:
        iptoquery = str(ips)     
        try:
            transfer=dns.zone.from_xfr(dns.query.xfr(iptoquery, domaintoquery))
            names=transfer.nodes.keys()
            print("\n\n|---------------------------------------------------------|")
            print("|      zone transfer successful for ", ips,"        |")
            print("|                  Results below:                         |")
            print("|---------------------------------------------------------|")
            for n in names:
                print(n)
                #print(transfer[n].to_text(n))
        except:
            print("\n\nzone transfer failed for ", ips)